(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,a){e.exports=a(47)},23:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(11),i=a.n(o),r=(a(23),a(12)),s=a(13),l=a(16),u=a(14),m=a(15),d=a(2),h=a(4),p=a.n(h),v=(a(43),function(e){var t=e.humidity;return c.a.createElement("div",{className:"humidity"},"\u0412\u043e\u043b\u043e\u0433\u0456\u0441\u0442\u044c: ",t," %")}),f=function(e){var t=e.speed,a=e.deg,n={transform:"rotate(".concat(a,"deg)")};return c.a.createElement("div",{className:"wind"},"\u0412\u0456\u0442\u0435\u0440: ",t," m/s,",c.a.createElement("span",{style:n},"\u2191"))},E=function(e){var t=e.location;return c.a.createElement("div",{className:"app-main__title"},c.a.createElement("div",{class:"bold grey"},t),c.a.createElement("div",{class:"grey"},(new Date).toLocaleString()))},g=(a(44),function(e){var t=e.celsius,a=e.fahrenheit;return c.a.createElement("div",{className:"temp"},c.a.createElement("div",{className:"temp-value"},c.a.createElement("span",{className:"bold grey"},t),c.a.createElement("sup",null,"o"),"C"),c.a.createElement("div",{className:"temp-value"},c.a.createElement("span",{className:"bold grey"},a),c.a.createElement("sup",null,"o"),"F"))}),y=function(e){var t=e.pressure;return c.a.createElement("div",{className:"pressure"},"\u0422\u0438\u0441\u043a: ",t," mbar")},b=(a(45),function(e){var t=e.clouds,a=e.icon;return c.a.createElement("div",null,c.a.createElement("div",{className:"sky"},t),a?c.a.createElement("img",{className:"sky-img",src:a,alt:""}):"")}),w=(a(46),function(e){var t=e.handleChange,a=e.location,n=e.locations,o=e.handleClick,i=e.show;return c.a.createElement("div",{className:"searchLocations"},c.a.createElement("label",{className:"searchLocations-label",htmlFor:"s"},"\u0414\u0456\u0437\u043d\u0430\u0439\u0442\u0435\u0441\u044c \u043f\u043e\u0433\u043e\u0434\u0443 \u0443 \u0432\u0430\u0448\u043e\u043c\u0443 \u043c\u0456\u0441\u0442\u0456:"),c.a.createElement("input",{id:"s",onChange:t,value:a,className:"searchLocations-input",type:"text"}),n?c.a.createElement("ul",{style:{display:i},className:"searchLocations-list"},n.map(function(e){return c.a.createElement("li",{key:e.id,className:"searchLocations-list__item",onClick:function(){return o(e.lat,e.lon)}},e.name)})):null)}),k=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={location:"",currentLocation:"",locations:[],hideList:!0,err:null,show:"none"},a.fetchData=a.fetchData.bind(Object(d.a)(Object(d.a)(a))),a.handleChange=a.handleChange.bind(Object(d.a)(Object(d.a)(a))),a.setLocation=a.setLocation.bind(Object(d.a)(Object(d.a)(a))),a.request=a.request.bind(Object(d.a)(Object(d.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var e=this;navigator.geolocation.watchPosition(function(t){var a=t.coords.latitude,n=t.coords.longitude;e.request(a,n)})}},{key:"request",value:function(e,t){var a=this;p.a.get("http://api.apixu.com/v1/forecast.json?key=e4c6948631f64f6f921180503191704&q=".concat(e,",").concat(t,"&days=5&lang=uk")).then(function(e){var t="".concat(e.data.location.name,",").concat(e.data.location.region,",").concat(e.data.location.country);a.setState({location:t,currentLocation:t,icon:e.data.current.condition.icon,celsius:e.data.current.temp_c,fahrenheit:e.data.current.temp_f,clouds:e.data.current.condition.text,humidity:e.data.current.humidity,pressure:e.data.current.pressure_mb,windSpeed:e.data.current.wind_kph,windDeg:e.data.current.wind_degree}),console.log(e)}).catch(function(e){return a.setState({err:e})})}},{key:"setLocation",value:function(e,t){this.request(e,t),this.setState({show:"none"})}},{key:"handleChange",value:function(e){var t=this;this.setState({show:"block",currentLocation:e.target.value}),p.a.get("http://api.apixu.com/v1/search.json?key=e4c6948631f64f6f921180503191704&q=".concat(this.state.currentLocation,"&lang=uk")).then(function(e){return t.setState({locations:e.data})}).catch(function(e){return t.setState({err:e})})}},{key:"render",value:function(){var e=this.state,t=e.location,a=e.currentLocation,n=e.icon,o=e.celsius,i=e.fahrenheit,r=e.clouds,s=e.humidity,l=e.pressure,u=e.windSpeed,m=e.windDeg,d=e.err,h=e.show,p=this.state.locations;return c.a.createElement("div",{className:"app"},c.a.createElement("div",null,c.a.createElement(w,{handleChange:this.handleChange,location:a,locations:p,handleClick:this.setLocation,show:h}),t?c.a.createElement("div",{className:"app-main"},c.a.createElement(E,{location:t}),c.a.createElement("div",{className:"app-main__content"},c.a.createElement("div",{className:"app-main__content-main"},c.a.createElement(b,{clouds:r,icon:n}),c.a.createElement(g,{celsius:o,fahrenheit:i})),c.a.createElement("div",{className:"app-main__content-additional"},c.a.createElement(v,{humidity:s}),c.a.createElement(y,{pressure:l}),c.a.createElement(f,{speed:u,deg:m})))):d?"\u041e\u0442 \u0445\u0430\u043b\u0435\u043f\u0430...\u0449\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a :(":"\u041e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445...\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430 \u0437\u0430\u0447\u0435\u043a\u0430\u0439\u0442\u0435"))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[17,1,2]]]);
//# sourceMappingURL=main.ecd7b467.chunk.js.map